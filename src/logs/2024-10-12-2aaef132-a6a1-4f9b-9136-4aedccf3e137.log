{"level":"info","ts":"2024-10-12T16:00:12.762+0330","caller":"db/postgress.go:41","msg":"Db connection established","AppName":"MyApp","LoggerName":"Zaplog","Category":"Postgres","SubCategory":"Startup"}
{"level":"info","ts":"2024-10-12T16:00:12.856+0330","caller":"migration/1_Init.go:47","msg":"tables created","AppName":"MyApp","LoggerName":"Zaplog","Category":"Postgres","SubCategory":"Migration"}
{"level":"info","ts":"2024-10-12T16:00:41.156+0330","caller":"middleware/logger.go:76","msg":"","AppName":"MyApp","LoggerName":"Zaplog","Method":"POST","Latency":0.1630747,"StatusCode":201,"RequestBody":"{\n  \"email\": \"admin@admin.com\",\n  \"password\": \"12345678\"\n}","ResponseBody":"{\"result\":{\"accessToken\":\"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJFbWFpbCI6ImFkbWluQGFkbWluLmNvbSIsIkV4cCI6MTcyODgyMjY0MSwiSWF0IjoxNzI4NzM2MjQxLCJMZXZlbCI6MCwiT1RQIjpmYWxzZSwiUm9sZXMiOlsiYWRtaW4iXSwiU3RhdGUiOnRydWUsIlVJRCI6IlYxN0c0VUxNVExJSCIsIlVzZXJJZCI6MX0.QZrBSORm6vsyg8BskDhlcS_R-cAZYe5fPXqoeZU67xE\",\"refreshToken\":\"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJFeHAiOjE3Mjg3Mzk4NDEsIlVzZXJJZCI6MX0.wgcRRYHO4tX44aVbUiwnuTBfJ2qeCYdv-h1h3FzjLF8\",\"accessTokenExpireTime\":1728822641,\"refreshTokenExpireTime\":1728739841},\"success\":true,\"resultCode\":0,\"validationErrors\":null,\"error\":null}","Category":"RequestResponse","Path":"/api/v2/auth/identity/users/login","ClientIp":"::1","SubCategory":"Api","ErrorMessage":"","BodySize":581}
{"level":"error","ts":"2024-10-12T16:01:14.754+0330","caller":"services/profile_service.go:128","msg":"ERROR: value too long for type character varying(10) (SQLSTATE 22001)","AppName":"MyApp","LoggerName":"Zaplog","Category":"Postgres","SubCategory":"Insert","stacktrace":"user-service/services.(*ProfileService).Create\n\tD:/Golang Project/user-service/src/services/profile_service.go:128\nuser-service/api/handlers.(*ProfileHandler).Create\n\tD:/Golang Project/user-service/src/api/handlers/profile.go:52\ngithub.com/gin-gonic/gin.(*Context).Next\n\tC:/Users/10/go/pkg/mod/github.com/gin-gonic/gin@v1.10.0/context.go:185\nuser-service/api/middleware.Authentication.func1\n\tD:/Golang Project/user-service/src/api/middleware/auth.go:61\ngithub.com/gin-gonic/gin.(*Context).Next\n\tC:/Users/10/go/pkg/mod/github.com/gin-gonic/gin@v1.10.0/context.go:185\nuser-service/api/middleware.LimitByRequest.func1\n\tD:/Golang Project/user-service/src/api/middleware/limitter.go:19\ngithub.com/gin-gonic/gin.(*Context).Next\n\tC:/Users/10/go/pkg/mod/github.com/gin-gonic/gin@v1.10.0/context.go:185\ngithub.com/gin-gonic/gin.CustomRecoveryWithWriter.func1\n\tC:/Users/10/go/pkg/mod/github.com/gin-gonic/gin@v1.10.0/recovery.go:102\ngithub.com/gin-gonic/gin.(*Context).Next\n\tC:/Users/10/go/pkg/mod/github.com/gin-gonic/gin@v1.10.0/context.go:185\ngithub.com/gin-gonic/gin.LoggerWithConfig.func1\n\tC:/Users/10/go/pkg/mod/github.com/gin-gonic/gin@v1.10.0/logger.go:249\ngithub.com/gin-gonic/gin.(*Context).Next\n\tC:/Users/10/go/pkg/mod/github.com/gin-gonic/gin@v1.10.0/context.go:185\nuser-service/api/middleware.Prometheus.func1\n\tD:/Golang Project/user-service/src/api/middleware/prometheus.go:16\ngithub.com/gin-gonic/gin.(*Context).Next\n\tC:/Users/10/go/pkg/mod/github.com/gin-gonic/gin@v1.10.0/context.go:185\nuser-service/api/middleware.Cors.func1\n\tD:/Golang Project/user-service/src/api/middleware/cors.go:23\ngithub.com/gin-gonic/gin.(*Context).Next\n\tC:/Users/10/go/pkg/mod/github.com/gin-gonic/gin@v1.10.0/context.go:185\nuser-service/api/middleware.structuredLogger.func1\n\tD:/Golang Project/user-service/src/api/middleware/logger.go:49\ngithub.com/gin-gonic/gin.(*Context).Next\n\tC:/Users/10/go/pkg/mod/github.com/gin-gonic/gin@v1.10.0/context.go:185\ngithub.com/gin-gonic/gin.(*Engine).handleHTTPRequest\n\tC:/Users/10/go/pkg/mod/github.com/gin-gonic/gin@v1.10.0/gin.go:633\ngithub.com/gin-gonic/gin.(*Engine).ServeHTTP\n\tC:/Users/10/go/pkg/mod/github.com/gin-gonic/gin@v1.10.0/gin.go:589\nnet/http.serverHandler.ServeHTTP\n\tC:/Program Files/Go/src/net/http/server.go:3210\nnet/http.(*conn).serve\n\tC:/Program Files/Go/src/net/http/server.go:2092"}
{"level":"info","ts":"2024-10-12T16:01:14.755+0330","caller":"middleware/logger.go:76","msg":"","AppName":"MyApp","LoggerName":"Zaplog","Path":"/api/v2/auth/resource/profiles/","ErrorMessage":"","RequestBody":"{\n  \"dob\": \"1372/02/20\",\n  \"fatherName\": \"string\",\n  \"firstName\": \"kiarash\",\n  \"lastName\": \"shams\",\n  \"metadata\": \"string\",\n  \"nid\": \"0015792307\"\n}","BodySize":154,"ResponseBody":"{\"result\":null,\"success\":false,\"resultCode\":50002,\"validationErrors\":null,\"error\":\"ERROR: value too long for type character varying(10) (SQLSTATE 22001)\"}","Category":"RequestResponse","SubCategory":"Api","ClientIp":"::1","Method":"POST","Latency":0.05243,"StatusCode":500}
{"level":"info","ts":"2024-10-12T16:03:38.317+0330","caller":"middleware/logger.go:76","msg":"","AppName":"MyApp","LoggerName":"Zaplog","RequestBody":"{\n  \"dob\": \"1372/02/20\",\n  \"fatherName\": \"string\",\n  \"firstName\": \"kiarash\",\n  \"lastName\": \"shams\",\n  \"metadata\": \"string\",\n  \"nid\": \"0015792307\"\n}","SubCategory":"Api","ClientIp":"::1","Latency":0.1162834,"StatusCode":201,"ErrorMessage":"","BodySize":212,"ResponseBody":"{\"result\":{\"firstName\":\"kiarash\",\"lastName\":\"shams\",\"fatherName\":\"string\",\"nid\":\"0015792307\",\"dob\":\"1372/02/20\",\"metadata\":\"\",\"verification\":\"\"},\"success\":true,\"resultCode\":0,\"validationErrors\":null,\"error\":null}","Category":"RequestResponse","Path":"/api/v2/auth/resource/profiles/","Method":"POST"}
{"level":"info","ts":"2024-10-12T16:06:46.379+0330","caller":"middleware/logger.go:76","msg":"","AppName":"MyApp","LoggerName":"Zaplog","Path":"/api/v2/auth/resource/profiles/","BodySize":206,"RequestBody":"{\n  \"dob\": \"string\",\n  \"fatherName\": \"string\",\n  \"firstName\": \"amirreza\",\n  \"lastName\": \"string\",\n  \"metadata\": \"string\",\n  \"nid\": \"string\"\n}","ResponseBody":"{\"result\":{\"firstName\":\"amirreza\",\"lastName\":\"string\",\"fatherName\":\"string\",\"nid\":\"string\",\"dob\":\"string\",\"metadata\":\"\",\"verification\":\"\"},\"success\":true,\"resultCode\":0,\"validationErrors\":null,\"error\":null}","Category":"RequestResponse","SubCategory":"Api","ClientIp":"::1","Method":"PUT","Latency":0.1489054,"StatusCode":200,"ErrorMessage":""}
{"level":"info","ts":"2024-10-12T16:07:03.824+0330","caller":"middleware/logger.go:76","msg":"","AppName":"MyApp","LoggerName":"Zaplog","Latency":0.024931,"StatusCode":200,"ErrorMessage":"","BodySize":206,"ResponseBody":"{\"result\":{\"firstName\":\"amirreza\",\"lastName\":\"string\",\"fatherName\":\"string\",\"nid\":\"string\",\"dob\":\"string\",\"metadata\":\"\",\"verification\":\"\"},\"success\":true,\"resultCode\":0,\"validationErrors\":null,\"error\":null}","Path":"/api/v2/auth/resource/profiles/me","ClientIp":"::1","Method":"GET","Category":"RequestResponse","SubCategory":"Api","RequestBody":""}
{"level":"info","ts":"2024-10-12T16:08:17.311+0330","caller":"middleware/logger.go:76","msg":"","AppName":"MyApp","LoggerName":"Zaplog","SubCategory":"Api","Path":"/api/v2/auth/resource/profiles/me","ClientIp":"::1","Method":"GET","Latency":0.020099,"RequestBody":"","StatusCode":200,"ErrorMessage":"","BodySize":206,"ResponseBody":"{\"result\":{\"firstName\":\"amirreza\",\"lastName\":\"string\",\"fatherName\":\"string\",\"nid\":\"string\",\"dob\":\"string\",\"metadata\":\"\",\"verification\":\"\"},\"success\":true,\"resultCode\":0,\"validationErrors\":null,\"error\":null}","Category":"RequestResponse"}
{"level":"info","ts":"2024-10-12T16:09:19.450+0330","caller":"middleware/logger.go:76","msg":"","AppName":"MyApp","LoggerName":"Zaplog","Category":"RequestResponse","SubCategory":"Api","StatusCode":200,"ErrorMessage":"","BodySize":206,"RequestBody":"","Path":"/api/v2/auth/resource/profiles/me","ClientIp":"::1","Method":"GET","Latency":0.0194012,"ResponseBody":"{\"result\":{\"firstName\":\"amirreza\",\"lastName\":\"string\",\"fatherName\":\"string\",\"nid\":\"string\",\"dob\":\"string\",\"metadata\":\"\",\"verification\":\"\"},\"success\":true,\"resultCode\":0,\"validationErrors\":null,\"error\":null}"}
{"level":"info","ts":"2024-10-12T16:10:05.211+0330","caller":"middleware/logger.go:76","msg":"","AppName":"MyApp","LoggerName":"Zaplog","Path":"/api/v2/auth/resource/profiles/","ClientIp":"::1","Method":"PUT","Latency":0.0644564,"ErrorMessage":"","Category":"RequestResponse","StatusCode":200,"BodySize":206,"RequestBody":"{\n  \"dob\": \"string\",\n  \"fatherName\": \"string\",\n  \"firstName\": \"string\",\n  \"lastName\": \"adadadad\",\n  \"metadata\": \"string\",\n  \"nid\": \"string\"\n}","ResponseBody":"{\"result\":{\"firstName\":\"string\",\"lastName\":\"adadadad\",\"fatherName\":\"string\",\"nid\":\"string\",\"dob\":\"string\",\"metadata\":\"\",\"verification\":\"\"},\"success\":true,\"resultCode\":0,\"validationErrors\":null,\"error\":null}","SubCategory":"Api"}
{"level":"info","ts":"2024-10-12T16:10:14.263+0330","caller":"middleware/logger.go:76","msg":"","AppName":"MyApp","LoggerName":"Zaplog","ClientIp":"::1","Method":"GET","Latency":0.0227143,"ErrorMessage":"","Category":"RequestResponse","SubCategory":"Api","Path":"/api/v2/auth/resource/profiles/me","StatusCode":200,"BodySize":206,"RequestBody":"","ResponseBody":"{\"result\":{\"firstName\":\"string\",\"lastName\":\"adadadad\",\"fatherName\":\"string\",\"nid\":\"string\",\"dob\":\"string\",\"metadata\":\"\",\"verification\":\"\"},\"success\":true,\"resultCode\":0,\"validationErrors\":null,\"error\":null}"}
{"level":"info","ts":"2024-10-12T16:29:06.006+0330","caller":"middleware/logger.go:76","msg":"","AppName":"MyApp","LoggerName":"Zaplog","Latency":0.1264842,"ResponseBody":"{\"result\":{\"firstName\":\"kiarash\",\"lastName\":\"shams\",\"fatherName\":\"string\",\"nid\":\"0015792307\",\"dob\":\"1372/02/20\",\"metadata\":\"\",\"verification\":\"\"},\"success\":true,\"resultCode\":0,\"validationErrors\":null,\"error\":null}","SubCategory":"Api","ErrorMessage":"","BodySize":212,"RequestBody":"{\n  \"dob\": \"1372/02/20\",\n  \"fatherName\": \"string\",\n  \"firstName\": \"kiarash\",\n  \"lastName\": \"shams\",\n  \"metadata\": \"string\",\n  \"nid\": \"0015792307\"\n}","Category":"RequestResponse","Path":"/api/v2/auth/resource/profiles/","ClientIp":"::1","Method":"POST","StatusCode":201}
{"level":"info","ts":"2024-10-12T16:29:42.892+0330","caller":"middleware/logger.go:76","msg":"","AppName":"MyApp","LoggerName":"Zaplog","Category":"RequestResponse","SubCategory":"Api","Path":"/api/v2/auth/resource/profiles/","ClientIp":"::1","Latency":0.1208626,"StatusCode":200,"BodySize":204,"Method":"PUT","ErrorMessage":"","RequestBody":"{\n  \"dob\": \"string\",\n  \"fatherName\": \"test\",\n  \"firstName\": \"string\",\n  \"lastName\": \"adadadad\",\n  \"metadata\": \"string\",\n  \"nid\": \"string\"\n}","ResponseBody":"{\"result\":{\"firstName\":\"string\",\"lastName\":\"adadadad\",\"fatherName\":\"test\",\"nid\":\"string\",\"dob\":\"string\",\"metadata\":\"\",\"verification\":\"\"},\"success\":true,\"resultCode\":0,\"validationErrors\":null,\"error\":null}"}
{"level":"info","ts":"2024-10-12T16:32:37.214+0330","caller":"middleware/logger.go:76","msg":"","AppName":"MyApp","LoggerName":"Zaplog","ErrorMessage":"","RequestBody":"{\n  \"dob\": \"1372/02/20\",\n  \"fatherName\": \"string\",\n  \"firstName\": \"kiarash\",\n  \"lastName\": \"shams\",\n  \"metadata\": \"string\",\n  \"nid\": \"0015792307\"\n}","Path":"/api/v2/auth/resource/profiles/","ClientIp":"::1","StatusCode":500,"ResponseBody":"{\"result\":null,\"success\":false,\"resultCode\":50002,\"validationErrors\":null,\"error\":\"The user has already registered their profile.\"}","Category":"RequestResponse","SubCategory":"Api","Method":"POST","Latency":0.0140862,"BodySize":131}
{"level":"info","ts":"2024-10-12T16:32:52.203+0330","caller":"middleware/logger.go:76","msg":"","AppName":"MyApp","LoggerName":"Zaplog","ResponseBody":"{\"result\":{\"firstName\":\"kiarash\",\"lastName\":\"shams\",\"fatherName\":\"string\",\"nid\":\"0015792307\",\"dob\":\"1372/02/20\",\"metadata\":\"\",\"verification\":\"\"},\"success\":true,\"resultCode\":0,\"validationErrors\":null,\"error\":null}","SubCategory":"Api","ErrorMessage":"","ClientIp":"::1","Method":"POST","Latency":0.0881099,"StatusCode":201,"BodySize":212,"RequestBody":"{\n  \"dob\": \"1372/02/20\",\n  \"fatherName\": \"string\",\n  \"firstName\": \"kiarash\",\n  \"lastName\": \"shams\",\n  \"metadata\": \"string\",\n  \"nid\": \"0015792307\"\n}","Category":"RequestResponse","Path":"/api/v2/auth/resource/profiles/"}
{"level":"info","ts":"2024-10-12T16:33:05.693+0330","caller":"middleware/logger.go:76","msg":"","AppName":"MyApp","LoggerName":"Zaplog","ErrorMessage":"","BodySize":212,"ResponseBody":"{\"result\":{\"firstName\":\"kiarash\",\"lastName\":\"shams\",\"fatherName\":\"string\",\"nid\":\"0015792307\",\"dob\":\"1372/02/20\",\"metadata\":\"\",\"verification\":\"\"},\"success\":true,\"resultCode\":0,\"validationErrors\":null,\"error\":null}","ClientIp":"::1","Method":"GET","Latency":0.0571617,"StatusCode":200,"Path":"/api/v2/auth/resource/profiles/me","RequestBody":"","Category":"RequestResponse","SubCategory":"Api"}
{"level":"info","ts":"2024-10-12T16:33:40.867+0330","caller":"middleware/logger.go:76","msg":"","AppName":"MyApp","LoggerName":"Zaplog","SubCategory":"Api","Path":"/api/v2/auth/resource/profiles/","Method":"PUT","StatusCode":400,"ErrorMessage":"","ResponseBody":"{\"result\":null,\"success\":false,\"resultCode\":121,\"validationErrors\":[{\"property\":\"FirstNameEncrypted\",\"tag\":\"required\",\"value\":\"\",\"message\":\"\"},{\"property\":\"LastNameEncrypted\",\"tag\":\"required\",\"value\":\"\",\"message\":\"\"},{\"property\":\"NidEncrypted\",\"tag\":\"required\",\"value\":\"\",\"message\":\"\"}],\"error\":null}","Category":"RequestResponse","ClientIp":"::1","Latency":0.0231061,"BodySize":300,"RequestBody":"{\n\n  \"fatherName\": \"abbas\"\n}"}
