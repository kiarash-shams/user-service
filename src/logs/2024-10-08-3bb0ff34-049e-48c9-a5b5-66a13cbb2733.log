{"level":"info","ts":"2024-10-08T20:19:37.120+0330","caller":"db/postgress.go:41","msg":"Db connection established","AppName":"MyApp","LoggerName":"Zaplog","Category":"Postgres","SubCategory":"Startup"}
{"level":"info","ts":"2024-10-08T20:19:37.160+0330","caller":"migration/1_Init.go:48","msg":"tables created","AppName":"MyApp","LoggerName":"Zaplog","Category":"Postgres","SubCategory":"Migration"}
{"level":"info","ts":"2024-10-08T20:20:10.942+0330","caller":"middleware/logger.go:76","msg":"","AppName":"MyApp","LoggerName":"Zaplog","ErrorMessage":"","RequestBody":"","ResponseBody":"{\"result\":null,\"success\":false,\"resultCode\":40101,\"validationErrors\":null,\"error\":\"token invalid\"}","Path":"/api/v2/auth/resource/labels/","ClientIp":"::1","Latency":0.0045827,"Category":"RequestResponse","SubCategory":"Api","Method":"GET","StatusCode":401,"BodySize":98}
{"level":"info","ts":"2024-10-08T20:20:33.785+0330","caller":"middleware/logger.go:76","msg":"","AppName":"MyApp","LoggerName":"Zaplog","ErrorMessage":"","RequestBody":"{\n  \"email\": \"admin@admin.com\",\n  \"password\": \"12345678\"\n}","ResponseBody":"{\"result\":{\"accessToken\":\"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJFbWFpbCI6ImFkbWluQGFkbWluLmNvbSIsIkV4cCI6MTcyODQ5MjYzMywiSWF0IjoxNzI4NDA2MjMzLCJMZXZlbCI6MCwiT1RQIjpmYWxzZSwiUm9sZXMiOlsiYWRtaW4iXSwiU3RhdGUiOnRydWUsIlVJRCI6IjRPUE1FWURGTUc1RSIsIlVzZXJJZCI6MX0.EmNB5ouZdyktHtXIxJ_oQ3eCOcezuvEEWte5aDdXbnE\",\"refreshToken\":\"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJFeHAiOjE3Mjg0MDk4MzMsIlVzZXJJZCI6MX0.yRkcI5WjD5EGB3VXkeYJ4g6Z7P9_OqCuHaRdZLOeamQ\",\"accessTokenExpireTime\":1728492633,\"refreshTokenExpireTime\":1728409833},\"success\":true,\"resultCode\":0,\"validationErrors\":null,\"error\":null}","Category":"RequestResponse","SubCategory":"Api","StatusCode":201,"ClientIp":"::1","Method":"POST","Latency":0.1629311,"BodySize":581,"Path":"/api/v2/auth/identity/users/login"}
{"level":"info","ts":"2024-10-08T20:20:55.219+0330","caller":"middleware/logger.go:76","msg":"","AppName":"MyApp","LoggerName":"Zaplog","SubCategory":"Api","ClientIp":"::1","Latency":0.0158019,"ErrorMessage":"","BodySize":213,"RequestBody":"","Category":"RequestResponse","Path":"/api/v2/auth/resource/labels/","Method":"GET","StatusCode":200,"ResponseBody":"{\"result\":[{\"key\":\"profile\",\"value\":\"submitted\",\"scope\":\"private\",\"description\":\"User profile information has been submitted for verification.\"}],\"success\":true,\"resultCode\":0,\"validationErrors\":null,\"error\":null}"}
{"level":"info","ts":"2024-10-08T20:21:16.242+0330","caller":"middleware/logger.go:76","msg":"","AppName":"MyApp","LoggerName":"Zaplog","Path":"/api/v2/auth/resource/labels/:key","Method":"GET","Latency":0.0062388,"ErrorMessage":"","RequestBody":"","ResponseBody":"{\"result\":{\"key\":\"profile\",\"value\":\"submitted\",\"scope\":\"\",\"description\":\"User profile information has been submitted for verification.\"},\"success\":true,\"resultCode\":0,\"validationErrors\":null,\"error\":null}","Category":"RequestResponse","ClientIp":"::1","StatusCode":200,"BodySize":204,"SubCategory":"Api"}
{"level":"error","ts":"2024-10-08T20:21:23.355+0330","caller":"services/label_service.go:186","msg":"record not found","AppName":"MyApp","LoggerName":"Zaplog","Category":"Postgres","SubCategory":"Select","stacktrace":"user-service/services.(*LabelService).GetByKey\n\tD:/Golang Project/user-service/src/services/label_service.go:186\nuser-service/api/handlers.(*LabelHandler).GetByKey\n\tD:/Golang Project/user-service/src/api/handlers/label.go:110\ngithub.com/gin-gonic/gin.(*Context).Next\n\tC:/Users/10/go/pkg/mod/github.com/gin-gonic/gin@v1.10.0/context.go:185\nuser-service/api/middleware.Authentication.func1\n\tD:/Golang Project/user-service/src/api/middleware/auth.go:61\ngithub.com/gin-gonic/gin.(*Context).Next\n\tC:/Users/10/go/pkg/mod/github.com/gin-gonic/gin@v1.10.0/context.go:185\nuser-service/api/middleware.LimitByRequest.func1\n\tD:/Golang Project/user-service/src/api/middleware/limitter.go:19\ngithub.com/gin-gonic/gin.(*Context).Next\n\tC:/Users/10/go/pkg/mod/github.com/gin-gonic/gin@v1.10.0/context.go:185\ngithub.com/gin-gonic/gin.CustomRecoveryWithWriter.func1\n\tC:/Users/10/go/pkg/mod/github.com/gin-gonic/gin@v1.10.0/recovery.go:102\ngithub.com/gin-gonic/gin.(*Context).Next\n\tC:/Users/10/go/pkg/mod/github.com/gin-gonic/gin@v1.10.0/context.go:185\ngithub.com/gin-gonic/gin.LoggerWithConfig.func1\n\tC:/Users/10/go/pkg/mod/github.com/gin-gonic/gin@v1.10.0/logger.go:249\ngithub.com/gin-gonic/gin.(*Context).Next\n\tC:/Users/10/go/pkg/mod/github.com/gin-gonic/gin@v1.10.0/context.go:185\nuser-service/api/middleware.Prometheus.func1\n\tD:/Golang Project/user-service/src/api/middleware/prometheus.go:16\ngithub.com/gin-gonic/gin.(*Context).Next\n\tC:/Users/10/go/pkg/mod/github.com/gin-gonic/gin@v1.10.0/context.go:185\nuser-service/api/middleware.Cors.func1\n\tD:/Golang Project/user-service/src/api/middleware/cors.go:23\ngithub.com/gin-gonic/gin.(*Context).Next\n\tC:/Users/10/go/pkg/mod/github.com/gin-gonic/gin@v1.10.0/context.go:185\nuser-service/api/middleware.structuredLogger.func1\n\tD:/Golang Project/user-service/src/api/middleware/logger.go:49\ngithub.com/gin-gonic/gin.(*Context).Next\n\tC:/Users/10/go/pkg/mod/github.com/gin-gonic/gin@v1.10.0/context.go:185\ngithub.com/gin-gonic/gin.(*Engine).handleHTTPRequest\n\tC:/Users/10/go/pkg/mod/github.com/gin-gonic/gin@v1.10.0/gin.go:633\ngithub.com/gin-gonic/gin.(*Engine).ServeHTTP\n\tC:/Users/10/go/pkg/mod/github.com/gin-gonic/gin@v1.10.0/gin.go:589\nnet/http.serverHandler.ServeHTTP\n\tC:/Program Files/Go/src/net/http/server.go:3210\nnet/http.(*conn).serve\n\tC:/Program Files/Go/src/net/http/server.go:2092"}
{"level":"info","ts":"2024-10-08T20:21:23.356+0330","caller":"middleware/logger.go:76","msg":"","AppName":"MyApp","LoggerName":"Zaplog","StatusCode":404,"BodySize":101,"ResponseBody":"{\"result\":null,\"success\":false,\"resultCode\":50002,\"validationErrors\":null,\"error\":\"record not found\"}","Path":"/api/v2/auth/resource/labels/:key","ClientIp":"::1","Method":"GET","Category":"RequestResponse","SubCategory":"Api","Latency":0.0058247,"ErrorMessage":"","RequestBody":""}
{"level":"info","ts":"2024-10-08T20:22:06.801+0330","caller":"middleware/logger.go:76","msg":"","AppName":"MyApp","LoggerName":"Zaplog","SubCategory":"Api","Latency":0.0453197,"StatusCode":201,"ErrorMessage":"","ResponseBody":"{\"result\":{\"key\":\"doc1\",\"value\":\"submitted\",\"scope\":\"\",\"description\":\"test desc\"},\"success\":true,\"resultCode\":0,\"validationErrors\":null,\"error\":null}","Category":"RequestResponse","Path":"/api/v2/auth/resource/labels/","ClientIp":"::1","Method":"POST","BodySize":149,"RequestBody":"{\n  \"description\": \"test desc\",\n  \"key\": \"doc1\",\n  \"scope\": \"public\",\n  \"value\": \"submitted\"\n}"}
{"level":"info","ts":"2024-10-08T20:23:09.557+0330","caller":"middleware/logger.go:76","msg":"","AppName":"MyApp","LoggerName":"Zaplog","Path":"/api/v2/auth/resource/labels/:key","ClientIp":"::1","Latency":0.0342526,"StatusCode":200,"BodySize":150,"ResponseBody":"{\"result\":{\"key\":\"doc1\",\"value\":\"verified\",\"scope\":\"\",\"description\":\"test update\"},\"success\":true,\"resultCode\":0,\"validationErrors\":null,\"error\":null}","Category":"RequestResponse","Method":"PUT","ErrorMessage":"","RequestBody":"{\n  \"description\": \"test update\",\n  \"key\": \"string\",\n  \"value\": \"verified\"\n}","SubCategory":"Api"}
{"level":"info","ts":"2024-10-08T20:23:43.678+0330","caller":"middleware/logger.go:76","msg":"","AppName":"MyApp","LoggerName":"Zaplog","ClientIp":"::1","Method":"PUT","StatusCode":500,"BodySize":130,"RequestBody":"{\n  \"description\": \"test update\",\n  \"key\": \"string\",\n  \"value\": \"verified\"\n}","ResponseBody":"{\"result\":null,\"success\":false,\"resultCode\":50002,\"validationErrors\":null,\"error\":\"update not allowed: label scope is not public\"}","SubCategory":"Api","Path":"/api/v2/auth/resource/labels/:key","Latency":0.0072183,"ErrorMessage":"","Category":"RequestResponse"}
{"level":"info","ts":"2024-10-08T20:23:59.497+0330","caller":"middleware/logger.go:76","msg":"","AppName":"MyApp","LoggerName":"Zaplog","Method":"DELETE","Latency":0.0047057,"StatusCode":500,"ErrorMessage":"","BodySize":130,"RequestBody":"","ResponseBody":"{\"result\":null,\"success\":false,\"resultCode\":50002,\"validationErrors\":null,\"error\":\"delete not allowed: label scope is not public\"}","ClientIp":"::1","Category":"RequestResponse","SubCategory":"Api","Path":"/api/v2/auth/resource/labels/:key"}
{"level":"info","ts":"2024-10-08T20:24:13.923+0330","caller":"middleware/logger.go:76","msg":"","AppName":"MyApp","LoggerName":"Zaplog","ClientIp":"::1","Method":"DELETE","Latency":0.0252921,"BodySize":82,"ResponseBody":"{\"result\":null,\"success\":true,\"resultCode\":0,\"validationErrors\":null,\"error\":null}","Category":"RequestResponse","SubCategory":"Api","Path":"/api/v2/auth/resource/labels/:key","StatusCode":200,"ErrorMessage":"","RequestBody":""}
{"level":"info","ts":"2024-10-08T20:24:20.103+0330","caller":"middleware/logger.go:76","msg":"","AppName":"MyApp","LoggerName":"Zaplog","Path":"/api/v2/auth/resource/labels/","ErrorMessage":"","ResponseBody":"{\"result\":[{\"key\":\"profile\",\"value\":\"submitted\",\"scope\":\"private\",\"description\":\"User profile information has been submitted for verification.\"}],\"success\":true,\"resultCode\":0,\"validationErrors\":null,\"error\":null}","RequestBody":"","Category":"RequestResponse","SubCategory":"Api","ClientIp":"::1","Method":"GET","Latency":0.0122046,"StatusCode":200,"BodySize":213}
{"level":"info","ts":"2024-10-08T20:25:33.872+0330","caller":"middleware/logger.go:76","msg":"","AppName":"MyApp","LoggerName":"Zaplog","ClientIp":"::1","Latency":0.0525098,"StatusCode":200,"Category":"RequestResponse","SubCategory":"Api","ResponseBody":"{\"result\":[{\"key\":\"profile\",\"value\":\"submitted\",\"scope\":\"private\",\"description\":\"User profile information has been submitted for verification.\"}],\"success\":true,\"resultCode\":0,\"validationErrors\":null,\"error\":null}","Path":"/api/v2/auth/resource/labels/","Method":"GET","ErrorMessage":"","BodySize":213,"RequestBody":""}
{"level":"info","ts":"2024-10-08T20:26:15.256+0330","caller":"middleware/logger.go:76","msg":"","AppName":"MyApp","LoggerName":"Zaplog","Path":"/api/v2/auth/resource/labels/","ClientIp":"::1","Method":"POST","StatusCode":201,"BodySize":149,"ResponseBody":"{\"result\":{\"key\":\"doc2\",\"value\":\"submitted\",\"scope\":\"\",\"description\":\"test desc\"},\"success\":true,\"resultCode\":0,\"validationErrors\":null,\"error\":null}","Latency":0.0309888,"ErrorMessage":"","RequestBody":"{\n  \"description\": \"test desc\",\n  \"key\": \"doc2\",\n  \"scope\": \"public\",\n  \"value\": \"submitted\"\n}","Category":"RequestResponse","SubCategory":"Api"}
{"level":"info","ts":"2024-10-08T20:26:21.339+0330","caller":"middleware/logger.go:76","msg":"","AppName":"MyApp","LoggerName":"Zaplog","Method":"GET","ErrorMessage":"","BodySize":291,"ResponseBody":"{\"result\":[{\"key\":\"profile\",\"value\":\"submitted\",\"scope\":\"private\",\"description\":\"User profile information has been submitted for verification.\"},{\"key\":\"doc2\",\"value\":\"submitted\",\"scope\":\"public\",\"description\":\"test desc\"}],\"success\":true,\"resultCode\":0,\"validationErrors\":null,\"error\":null}","Category":"RequestResponse","SubCategory":"Api","Path":"/api/v2/auth/resource/labels/","ClientIp":"::1","Latency":0.0056669,"StatusCode":200,"RequestBody":""}
{"level":"info","ts":"2024-10-08T20:27:16.563+0330","caller":"middleware/logger.go:76","msg":"","AppName":"MyApp","LoggerName":"Zaplog","Method":"GET","ResponseBody":"{\"result\":[{\"key\":\"profile\",\"value\":\"submitted\",\"scope\":\"private\",\"description\":\"User profile information has been submitted for verification.\"},{\"key\":\"doc2\",\"value\":\"submitted\",\"scope\":\"public\",\"description\":\"test desc\"},{\"key\":\"doc1\",\"value\":\"verified\",\"scope\":\"public\",\"description\":\"test update\"}],\"success\":true,\"resultCode\":0,\"validationErrors\":null,\"error\":null}","Category":"RequestResponse","SubCategory":"Api","Path":"/api/v2/auth/resource/labels/","ClientIp":"::1","Latency":0.0085368,"StatusCode":200,"ErrorMessage":"","BodySize":370,"RequestBody":""}
