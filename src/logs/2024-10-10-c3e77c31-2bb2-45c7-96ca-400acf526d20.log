{"level":"info","ts":"2024-10-10T16:09:14.812+0330","caller":"db/postgress.go:41","msg":"Db connection established","AppName":"MyApp","LoggerName":"Zaplog","Category":"Postgres","SubCategory":"Startup"}
{"level":"info","ts":"2024-10-10T16:09:14.960+0330","caller":"migration/1_Init.go:49","msg":"tables created","AppName":"MyApp","LoggerName":"Zaplog","Category":"Postgres","SubCategory":"Migration"}
{"level":"info","ts":"2024-10-10T16:10:26.413+0330","caller":"middleware/logger.go:76","msg":"","AppName":"MyApp","LoggerName":"Zaplog","ResponseBody":"{\"result\":{\"accessToken\":\"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJFbWFpbCI6ImFkbWluQGFkbWluLmNvbSIsIkV4cCI6MTcyODY1MDQyNiwiSWF0IjoxNzI4NTY0MDI2LCJMZXZlbCI6MCwiT1RQIjpmYWxzZSwiUm9sZXMiOlsiYWRtaW4iXSwiU3RhdGUiOnRydWUsIlVJRCI6IkU0UFZOWUo2OVlNUiIsIlVzZXJJZCI6MX0.X0JmnEZgi_O2MzIxjI2nxV28hAzP3xVfesflu7OetC4\",\"refreshToken\":\"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJFeHAiOjE3Mjg1Njc2MjYsIlVzZXJJZCI6MX0.mXefolIfeQia1n595GQmyZJWZ7jKuEMO86I4LwktXJM\",\"accessTokenExpireTime\":1728650426,\"refreshTokenExpireTime\":1728567626},\"success\":true,\"resultCode\":0,\"validationErrors\":null,\"error\":null}","SubCategory":"Api","Path":"/api/v2/auth/identity/users/login","Method":"POST","ErrorMessage":"","RequestBody":"{\n  \"email\": \"admin@admin.com\",\n  \"password\": \"12345678\"\n}","Category":"RequestResponse","ClientIp":"::1","Latency":0.1623859,"StatusCode":201,"BodySize":581}
{"level":"error","ts":"2024-10-10T16:10:47.985+0330","caller":"services/profile_service.go:159","msg":"record not found","AppName":"MyApp","LoggerName":"Zaplog","Category":"Postgres","SubCategory":"Select","stacktrace":"user-service/services.(*ProfileService).GetById\n\tD:/Golang Project/user-service/src/services/profile_service.go:159\nuser-service/api/handlers.(*ProfileHandler).GetProfile\n\tD:/Golang Project/user-service/src/api/handlers/profile.go:116\ngithub.com/gin-gonic/gin.(*Context).Next\n\tC:/Users/10/go/pkg/mod/github.com/gin-gonic/gin@v1.10.0/context.go:185\nuser-service/api/middleware.Authentication.func1\n\tD:/Golang Project/user-service/src/api/middleware/auth.go:61\ngithub.com/gin-gonic/gin.(*Context).Next\n\tC:/Users/10/go/pkg/mod/github.com/gin-gonic/gin@v1.10.0/context.go:185\nuser-service/api/middleware.LimitByRequest.func1\n\tD:/Golang Project/user-service/src/api/middleware/limitter.go:19\ngithub.com/gin-gonic/gin.(*Context).Next\n\tC:/Users/10/go/pkg/mod/github.com/gin-gonic/gin@v1.10.0/context.go:185\ngithub.com/gin-gonic/gin.CustomRecoveryWithWriter.func1\n\tC:/Users/10/go/pkg/mod/github.com/gin-gonic/gin@v1.10.0/recovery.go:102\ngithub.com/gin-gonic/gin.(*Context).Next\n\tC:/Users/10/go/pkg/mod/github.com/gin-gonic/gin@v1.10.0/context.go:185\ngithub.com/gin-gonic/gin.LoggerWithConfig.func1\n\tC:/Users/10/go/pkg/mod/github.com/gin-gonic/gin@v1.10.0/logger.go:249\ngithub.com/gin-gonic/gin.(*Context).Next\n\tC:/Users/10/go/pkg/mod/github.com/gin-gonic/gin@v1.10.0/context.go:185\nuser-service/api/middleware.Prometheus.func1\n\tD:/Golang Project/user-service/src/api/middleware/prometheus.go:16\ngithub.com/gin-gonic/gin.(*Context).Next\n\tC:/Users/10/go/pkg/mod/github.com/gin-gonic/gin@v1.10.0/context.go:185\nuser-service/api/middleware.Cors.func1\n\tD:/Golang Project/user-service/src/api/middleware/cors.go:23\ngithub.com/gin-gonic/gin.(*Context).Next\n\tC:/Users/10/go/pkg/mod/github.com/gin-gonic/gin@v1.10.0/context.go:185\nuser-service/api/middleware.structuredLogger.func1\n\tD:/Golang Project/user-service/src/api/middleware/logger.go:49\ngithub.com/gin-gonic/gin.(*Context).Next\n\tC:/Users/10/go/pkg/mod/github.com/gin-gonic/gin@v1.10.0/context.go:185\ngithub.com/gin-gonic/gin.(*Engine).handleHTTPRequest\n\tC:/Users/10/go/pkg/mod/github.com/gin-gonic/gin@v1.10.0/gin.go:633\ngithub.com/gin-gonic/gin.(*Engine).ServeHTTP\n\tC:/Users/10/go/pkg/mod/github.com/gin-gonic/gin@v1.10.0/gin.go:589\nnet/http.serverHandler.ServeHTTP\n\tC:/Program Files/Go/src/net/http/server.go:3210\nnet/http.(*conn).serve\n\tC:/Program Files/Go/src/net/http/server.go:2092"}
{"level":"info","ts":"2024-10-10T16:10:47.986+0330","caller":"middleware/logger.go:76","msg":"","AppName":"MyApp","LoggerName":"Zaplog","BodySize":101,"RequestBody":"","SubCategory":"Api","Method":"GET","Latency":0.0083997,"StatusCode":404,"ErrorMessage":"","Path":"/api/v2/auth/resource/profiles/me","ClientIp":"::1","ResponseBody":"{\"result\":null,\"success\":false,\"resultCode\":50002,\"validationErrors\":null,\"error\":\"record not found\"}","Category":"RequestResponse"}
{"level":"info","ts":"2024-10-10T16:12:00.792+0330","caller":"middleware/logger.go:76","msg":"","AppName":"MyApp","LoggerName":"Zaplog","Latency":0.0606306,"StatusCode":201,"BodySize":212,"ResponseBody":"{\"result\":{\"firstName\":\"Kiarash\",\"lastName\":\"Shams\",\"fatherName\":\"string\",\"nid\":\"0015792307\",\"dob\":\"1372/02/20\",\"metadata\":\"\",\"verification\":\"\"},\"success\":true,\"resultCode\":0,\"validationErrors\":null,\"error\":null}","Category":"RequestResponse","SubCategory":"Api","Method":"POST","ClientIp":"::1","ErrorMessage":"","RequestBody":"{\n  \"dob\": \"1372/02/20\",\n  \"fatherName\": \"string\",\n  \"firstName\": \"Kiarash\",\n  \"lastName\": \"Shams\",\n  \"metadata\": \"string\",\n  \"nid\": \"0015792307\"\n}","Path":"/api/v2/auth/resource/profiles/"}
{"level":"info","ts":"2024-10-10T16:12:07.443+0330","caller":"middleware/logger.go:76","msg":"","AppName":"MyApp","LoggerName":"Zaplog","ClientIp":"::1","Method":"GET","Latency":0.0050592,"StatusCode":200,"ResponseBody":"{\"result\":{\"firstName\":\"Kiarash\",\"lastName\":\"Shams\",\"fatherName\":\"string\",\"nid\":\"0015792307\",\"dob\":\"1372/02/20\",\"metadata\":\"\",\"verification\":\"\"},\"success\":true,\"resultCode\":0,\"validationErrors\":null,\"error\":null}","SubCategory":"Api","Path":"/api/v2/auth/resource/profiles/me","BodySize":212,"RequestBody":"","Category":"RequestResponse","ErrorMessage":""}
{"level":"info","ts":"2024-10-10T16:12:48.846+0330","caller":"middleware/logger.go:76","msg":"","AppName":"MyApp","LoggerName":"Zaplog","StatusCode":200,"ErrorMessage":"","BodySize":213,"RequestBody":"","Category":"RequestResponse","Path":"/api/v2/auth/resource/labels/","ClientIp":"::1","Method":"GET","Latency":0.0160707,"ResponseBody":"{\"result\":[{\"key\":\"profile\",\"value\":\"submitted\",\"scope\":\"private\",\"description\":\"User profile information has been submitted for verification.\"}],\"success\":true,\"resultCode\":0,\"validationErrors\":null,\"error\":null}","SubCategory":"Api"}
{"level":"info","ts":"2024-10-10T16:13:10.075+0330","caller":"middleware/logger.go:76","msg":"","AppName":"MyApp","LoggerName":"Zaplog","ClientIp":"::1","Method":"POST","ErrorMessage":"","BodySize":278,"Category":"RequestResponse","Path":"/api/v2/auth/resource/phones/","Latency":0.002598,"StatusCode":400,"RequestBody":"{\n  \"mobileNumber\": \"09378360940\"\n}","ResponseBody":"{\"result\":null,\"success\":false,\"resultCode\":40001,\"validationErrors\":[{\"property\":\"MobileNumber\",\"tag\":\"required\",\"value\":\"\",\"message\":\"\"},{\"property\":\"Country\",\"tag\":\"required\",\"value\":\"\",\"message\":\"\"},{\"property\":\"Code\",\"tag\":\"required\",\"value\":\"\",\"message\":\"\"}],\"error\":null}","SubCategory":"Api"}
{"level":"info","ts":"2024-10-10T16:13:57.267+0330","caller":"middleware/logger.go:76","msg":"","AppName":"MyApp","LoggerName":"Zaplog","ClientIp":"::1","Method":"POST","ErrorMessage":"","BodySize":278,"RequestBody":"{\n  \"mobileNumber\": \"09378360940\"\n}","Category":"RequestResponse","Path":"/api/v2/auth/resource/phones/","Latency":0.0009987,"StatusCode":400,"ResponseBody":"{\"result\":null,\"success\":false,\"resultCode\":40001,\"validationErrors\":[{\"property\":\"MobileNumber\",\"tag\":\"required\",\"value\":\"\",\"message\":\"\"},{\"property\":\"Country\",\"tag\":\"required\",\"value\":\"\",\"message\":\"\"},{\"property\":\"Code\",\"tag\":\"required\",\"value\":\"\",\"message\":\"\"}],\"error\":null}","SubCategory":"Api"}
{"level":"info","ts":"2024-10-10T16:15:13.387+0330","caller":"middleware/logger.go:76","msg":"","AppName":"MyApp","LoggerName":"Zaplog","Path":"/api/v2/auth/resource/locations/","ResponseBody":"{\"result\":{\"address\":\"porozi\",\"postalCode\":\"12356854\",\"city\":\"Tehran\",\"country\":\"Iran\",\"staticPhoneNumber\":\"77409378\",\"metadata\":\"string\",\"verification\":\"\"},\"success\":true,\"resultCode\":0,\"validationErrors\":null,\"error\":null}","SubCategory":"Api","StatusCode":201,"ErrorMessage":"","BodySize":224,"RequestBody":"{\n  \"address\": \"porozi\",\n  \"city\": \"Tehran\",\n  \"country\": \"Iran\",\n  \"metadata\": \"string\",\n  \"postalCode\": \"12356854\",\n  \"staticPhoneNumber\": \"77409378\"\n}","Category":"RequestResponse","ClientIp":"::1","Method":"POST","Latency":0.1080366}
{"level":"info","ts":"2024-10-10T16:16:07.360+0330","caller":"middleware/logger.go:76","msg":"","AppName":"MyApp","LoggerName":"Zaplog","Path":"/api/v2/auth/resource/locations/","Latency":0.0585841,"ErrorMessage":"","Category":"RequestResponse","ResponseBody":"{\"result\":{\"address\":\"tohid\",\"postalCode\":\"string\",\"city\":\"string\",\"country\":\"string\",\"staticPhoneNumber\":\"string\",\"metadata\":\"string\",\"verification\":\"\"},\"success\":true,\"resultCode\":0,\"validationErrors\":null,\"error\":null}","SubCategory":"Api","ClientIp":"::1","Method":"PUT","StatusCode":200,"BodySize":221,"RequestBody":"{\n  \"address\": \"tohid\",\n  \"city\": \"string\",\n  \"country\": \"string\",\n  \"metadata\": \"string\",\n  \"postalCode\": \"string\",\n  \"staticPhoneNumber\": \"string\"\n}"}
{"level":"info","ts":"2024-10-10T16:20:03.752+0330","caller":"middleware/logger.go:76","msg":"","AppName":"MyApp","LoggerName":"Zaplog","ClientIp":"::1","Latency":0.0005315,"StatusCode":400,"RequestBody":"{\n  \"mobileNumber\": \"09378360940\",\n   \"Country\": \"IR\",\n  \"Code\": \"525\"\n}","Category":"RequestResponse","SubCategory":"Api","Path":"/api/v2/auth/resource/phones/","Method":"POST","ErrorMessage":"","BodySize":278,"ResponseBody":"{\"result\":null,\"success\":false,\"resultCode\":40001,\"validationErrors\":[{\"property\":\"MobileNumber\",\"tag\":\"required\",\"value\":\"\",\"message\":\"\"},{\"property\":\"Country\",\"tag\":\"required\",\"value\":\"\",\"message\":\"\"},{\"property\":\"Code\",\"tag\":\"required\",\"value\":\"\",\"message\":\"\"}],\"error\":null}"}
{"level":"info","ts":"2024-10-10T16:20:17.478+0330","caller":"middleware/logger.go:76","msg":"","AppName":"MyApp","LoggerName":"Zaplog","Path":"/api/v2/auth/resource/phones/","Method":"POST","StatusCode":400,"BodySize":278,"ResponseBody":"{\"result\":null,\"success\":false,\"resultCode\":40001,\"validationErrors\":[{\"property\":\"MobileNumber\",\"tag\":\"required\",\"value\":\"\",\"message\":\"\"},{\"property\":\"Country\",\"tag\":\"required\",\"value\":\"\",\"message\":\"\"},{\"property\":\"Code\",\"tag\":\"required\",\"value\":\"\",\"message\":\"\"}],\"error\":null}","SubCategory":"Api","ClientIp":"::1","Latency":0.0040546,"ErrorMessage":"","RequestBody":"{\n  \"mobileNumber\": \"09378360940\",\n   \"country\": \"IR\",\n  \"code\": \"525\"\n}","Category":"RequestResponse"}
{"level":"info","ts":"2024-10-10T16:21:21.297+0330","caller":"middleware/logger.go:76","msg":"","AppName":"MyApp","LoggerName":"Zaplog","ClientIp":"::1","Method":"PUT","BodySize":203,"RequestBody":"{\n  \"dob\": \"string\",\n  \"fatherName\": \"abbas\",\n  \"firstName\": \"string\",\n  \"lastName\": \"string\",\n  \"metadata\": \"string\",\n  \"nid\": \"string\"\n}","ResponseBody":"{\"result\":{\"firstName\":\"string\",\"lastName\":\"string\",\"fatherName\":\"abbas\",\"nid\":\"string\",\"dob\":\"string\",\"metadata\":\"\",\"verification\":\"\"},\"success\":true,\"resultCode\":0,\"validationErrors\":null,\"error\":null}","SubCategory":"Api","Path":"/api/v2/auth/resource/profiles/","Latency":0.1503364,"StatusCode":200,"ErrorMessage":"","Category":"RequestResponse"}
{"level":"info","ts":"2024-10-10T16:21:53.219+0330","caller":"middleware/logger.go:76","msg":"","AppName":"MyApp","LoggerName":"Zaplog","Latency":0.0069384,"BodySize":138,"Category":"RequestResponse","SubCategory":"Api","Path":"/api/v2/auth/resource/profiles/","ClientIp":"::1","Method":"PUT","StatusCode":500,"ErrorMessage":"","RequestBody":"{\n  \"dob\": \"string\",\n  \"fatherName\": \"abbas\",\n  \"firstName\": \"string\",\n  \"lastName\": \"string\",\n  \"metadata\": \"string\",\n  \"nid\": \"string\"\n}","ResponseBody":"{\"result\":null,\"success\":false,\"resultCode\":121,\"validationErrors\":null,\"error\":\"phone number is already validated and cannot be updated\"}"}
{"level":"info","ts":"2024-10-10T16:23:19.820+0330","caller":"middleware/logger.go:76","msg":"","AppName":"MyApp","LoggerName":"Zaplog","Path":"/api/v2/auth/resource/locations/","Method":"PUT","ErrorMessage":"","BodySize":134,"Category":"RequestResponse","ClientIp":"::1","Latency":0.0109705,"StatusCode":500,"RequestBody":"{\n  \"address\": \"aaaa\",\n  \"city\": \"string\",\n  \"country\": \"string\",\n  \"metadata\": \"string\",\n  \"postalCode\": \"string\",\n  \"staticPhoneNumber\": \"string\"\n}","ResponseBody":"{\"result\":null,\"success\":false,\"resultCode\":121,\"validationErrors\":null,\"error\":\"location is already validated and cannot be updated\"}","SubCategory":"Api"}
{"level":"info","ts":"2024-10-10T16:23:33.479+0330","caller":"middleware/logger.go:76","msg":"","AppName":"MyApp","LoggerName":"Zaplog","ClientIp":"::1","Method":"POST","StatusCode":500,"SubCategory":"Api","Path":"/api/v2/auth/resource/locations/","ErrorMessage":"","BodySize":132,"RequestBody":"{\n  \"address\": \"porozi\",\n  \"city\": \"Tehran\",\n  \"country\": \"Iran\",\n  \"metadata\": \"string\",\n  \"postalCode\": \"12356854\",\n  \"staticPhoneNumber\": \"77409378\"\n}","ResponseBody":"{\"result\":null,\"success\":false,\"resultCode\":50002,\"validationErrors\":null,\"error\":\"The user has already registered their Location.\"}","Category":"RequestResponse","Latency":0.0169987}
{"level":"info","ts":"2024-10-10T16:23:50.436+0330","caller":"middleware/logger.go:76","msg":"","AppName":"MyApp","LoggerName":"Zaplog","Latency":0.0145668,"StatusCode":200,"ErrorMessage":"","Category":"RequestResponse","SubCategory":"Api","Method":"GET","ClientIp":"::1","BodySize":213,"RequestBody":"","ResponseBody":"{\"result\":[{\"key\":\"profile\",\"value\":\"submitted\",\"scope\":\"private\",\"description\":\"User profile information has been submitted for verification.\"}],\"success\":true,\"resultCode\":0,\"validationErrors\":null,\"error\":null}","Path":"/api/v2/auth/resource/labels/"}
{"level":"info","ts":"2024-10-10T16:24:11.674+0330","caller":"middleware/logger.go:76","msg":"","AppName":"MyApp","LoggerName":"Zaplog","ClientIp":"::1","Method":"GET","Latency":0.0081818,"BodySize":88,"ResponseBody":"{\"result\":1728564851,\"success\":true,\"resultCode\":0,\"validationErrors\":null,\"error\":null}","SubCategory":"Api","Path":"/api/v2/auth/public/time","StatusCode":200,"ErrorMessage":"","RequestBody":"","Category":"RequestResponse"}
