{"level":"info","ts":"2024-09-14T15:50:48.905+0330","caller":"db/postgress.go:41","msg":"Db connection established","AppName":"MyApp","LoggerName":"Zaplog","Category":"Postgres","SubCategory":"Startup"}
{"level":"info","ts":"2024-09-14T15:50:48.933+0330","caller":"migration/1_Init.go:47","msg":"tables created","AppName":"MyApp","LoggerName":"Zaplog","Category":"Postgres","SubCategory":"Migration"}
{"level":"info","ts":"2024-09-14T15:50:59.549+0330","caller":"middleware/logger.go:76","msg":"","AppName":"MyApp","LoggerName":"Zaplog","Method":"POST","Latency":0.009215,"BodySize":82,"RequestBody":"{\n  \"mobileNumber\": \"09378360940\"\n}","ResponseBody":"{\"result\":null,\"success\":true,\"resultCode\":0,\"validationErrors\":null,\"error\":null}","Category":"RequestResponse","Path":"/api/v1/users/send-otp","ClientIp":"::1","SubCategory":"Api","StatusCode":201,"ErrorMessage":""}
{"level":"error","ts":"2024-09-14T15:51:25.297+0330","caller":"services/user_Service.go:177","msg":"ERROR: column \"name\" does not exist (SQLSTATE 42703)","AppName":"MyApp","LoggerName":"Zaplog","Category":"Postgres","SubCategory":"DefaultRoleNotFound","stacktrace":"user-service/services.(*UserService).RegisterLoginByMobileNumber\n\tD:/Golang Project/test/test2/services/user_Service.go:177\nuser-service/api/handlers.(*UsersHandler).RegisterLoginByMobileNumber\n\tD:/Golang Project/test/test2/api/handlers/user.go:102\ngithub.com/gin-gonic/gin.(*Context).Next\n\tC:/Users/10/go/pkg/mod/github.com/gin-gonic/gin@v1.10.0/context.go:185\nuser-service/api/middleware.LimitByRequest.func1\n\tD:/Golang Project/test/test2/api/middleware/limitter.go:19\ngithub.com/gin-gonic/gin.(*Context).Next\n\tC:/Users/10/go/pkg/mod/github.com/gin-gonic/gin@v1.10.0/context.go:185\ngithub.com/gin-gonic/gin.CustomRecoveryWithWriter.func1\n\tC:/Users/10/go/pkg/mod/github.com/gin-gonic/gin@v1.10.0/recovery.go:102\ngithub.com/gin-gonic/gin.(*Context).Next\n\tC:/Users/10/go/pkg/mod/github.com/gin-gonic/gin@v1.10.0/context.go:185\ngithub.com/gin-gonic/gin.LoggerWithConfig.func1\n\tC:/Users/10/go/pkg/mod/github.com/gin-gonic/gin@v1.10.0/logger.go:249\ngithub.com/gin-gonic/gin.(*Context).Next\n\tC:/Users/10/go/pkg/mod/github.com/gin-gonic/gin@v1.10.0/context.go:185\nuser-service/api/middleware.Cors.func1\n\tD:/Golang Project/test/test2/api/middleware/cors.go:23\ngithub.com/gin-gonic/gin.(*Context).Next\n\tC:/Users/10/go/pkg/mod/github.com/gin-gonic/gin@v1.10.0/context.go:185\nuser-service/api/middleware.structuredLogger.func1\n\tD:/Golang Project/test/test2/api/middleware/logger.go:49\ngithub.com/gin-gonic/gin.(*Context).Next\n\tC:/Users/10/go/pkg/mod/github.com/gin-gonic/gin@v1.10.0/context.go:185\ngithub.com/gin-gonic/gin.(*Engine).handleHTTPRequest\n\tC:/Users/10/go/pkg/mod/github.com/gin-gonic/gin@v1.10.0/gin.go:633\ngithub.com/gin-gonic/gin.(*Engine).ServeHTTP\n\tC:/Users/10/go/pkg/mod/github.com/gin-gonic/gin@v1.10.0/gin.go:589\nnet/http.serverHandler.ServeHTTP\n\tC:/Program Files/Go/src/net/http/server.go:3210\nnet/http.(*conn).serve\n\tC:/Program Files/Go/src/net/http/server.go:2092"}
{"level":"error","ts":"2024-09-14T15:51:25.318+0330","caller":"services/user_Service.go:191","msg":"ERROR: insert or update on table \"user_roles\" violates foreign key constraint \"fk_roles_user_roles\" (SQLSTATE 23503)","AppName":"MyApp","LoggerName":"Zaplog","Category":"Postgres","SubCategory":"Rollback","stacktrace":"user-service/services.(*UserService).RegisterLoginByMobileNumber\n\tD:/Golang Project/test/test2/services/user_Service.go:191\nuser-service/api/handlers.(*UsersHandler).RegisterLoginByMobileNumber\n\tD:/Golang Project/test/test2/api/handlers/user.go:102\ngithub.com/gin-gonic/gin.(*Context).Next\n\tC:/Users/10/go/pkg/mod/github.com/gin-gonic/gin@v1.10.0/context.go:185\nuser-service/api/middleware.LimitByRequest.func1\n\tD:/Golang Project/test/test2/api/middleware/limitter.go:19\ngithub.com/gin-gonic/gin.(*Context).Next\n\tC:/Users/10/go/pkg/mod/github.com/gin-gonic/gin@v1.10.0/context.go:185\ngithub.com/gin-gonic/gin.CustomRecoveryWithWriter.func1\n\tC:/Users/10/go/pkg/mod/github.com/gin-gonic/gin@v1.10.0/recovery.go:102\ngithub.com/gin-gonic/gin.(*Context).Next\n\tC:/Users/10/go/pkg/mod/github.com/gin-gonic/gin@v1.10.0/context.go:185\ngithub.com/gin-gonic/gin.LoggerWithConfig.func1\n\tC:/Users/10/go/pkg/mod/github.com/gin-gonic/gin@v1.10.0/logger.go:249\ngithub.com/gin-gonic/gin.(*Context).Next\n\tC:/Users/10/go/pkg/mod/github.com/gin-gonic/gin@v1.10.0/context.go:185\nuser-service/api/middleware.Cors.func1\n\tD:/Golang Project/test/test2/api/middleware/cors.go:23\ngithub.com/gin-gonic/gin.(*Context).Next\n\tC:/Users/10/go/pkg/mod/github.com/gin-gonic/gin@v1.10.0/context.go:185\nuser-service/api/middleware.structuredLogger.func1\n\tD:/Golang Project/test/test2/api/middleware/logger.go:49\ngithub.com/gin-gonic/gin.(*Context).Next\n\tC:/Users/10/go/pkg/mod/github.com/gin-gonic/gin@v1.10.0/context.go:185\ngithub.com/gin-gonic/gin.(*Engine).handleHTTPRequest\n\tC:/Users/10/go/pkg/mod/github.com/gin-gonic/gin@v1.10.0/gin.go:633\ngithub.com/gin-gonic/gin.(*Engine).ServeHTTP\n\tC:/Users/10/go/pkg/mod/github.com/gin-gonic/gin@v1.10.0/gin.go:589\nnet/http.serverHandler.ServeHTTP\n\tC:/Program Files/Go/src/net/http/server.go:3210\nnet/http.(*conn).serve\n\tC:/Program Files/Go/src/net/http/server.go:2092"}
{"level":"info","ts":"2024-09-14T15:51:25.320+0330","caller":"middleware/logger.go:76","msg":"","AppName":"MyApp","LoggerName":"Zaplog","Latency":0.2950849,"ErrorMessage":"","BodySize":202,"Category":"RequestResponse","SubCategory":"Api","ClientIp":"::1","Method":"POST","StatusCode":500,"RequestBody":"{\n  \"mobileNumber\": \"09378360940\",\n  \"otp\": \"236249\"\n}","ResponseBody":"{\"result\":null,\"success\":false,\"resultCode\":-1,\"validationErrors\":null,\"error\":\"ERROR: insert or update on table \\\"user_roles\\\" violates foreign key constraint \\\"fk_roles_user_roles\\\" (SQLSTATE 23503)\"}","Path":"/api/v1/users/login-by-mobile"}
