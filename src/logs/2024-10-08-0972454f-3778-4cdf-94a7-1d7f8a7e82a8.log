{"level":"info","ts":"2024-10-08T17:14:28.189+0330","caller":"db/postgress.go:41","msg":"Db connection established","AppName":"MyApp","LoggerName":"Zaplog","Category":"Postgres","SubCategory":"Startup"}
{"level":"info","ts":"2024-10-08T17:14:28.247+0330","caller":"migration/1_Init.go:48","msg":"tables created","AppName":"MyApp","LoggerName":"Zaplog","Category":"Postgres","SubCategory":"Migration"}
{"level":"info","ts":"2024-10-08T17:15:28.703+0330","caller":"middleware/logger.go:76","msg":"","AppName":"MyApp","LoggerName":"Zaplog","Category":"RequestResponse","SubCategory":"Api","ClientIp":"::1","Method":"POST","BodySize":581,"ErrorMessage":"","RequestBody":"{\n  \"email\": \"admin@admin.com\",\n  \"password\": \"12345678\"\n}","ResponseBody":"{\"result\":{\"accessToken\":\"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJFbWFpbCI6ImFkbWluQGFkbWluLmNvbSIsIkV4cCI6MTcyODQ4MTUyOCwiSWF0IjoxNzI4Mzk1MTI4LCJMZXZlbCI6MCwiT1RQIjpmYWxzZSwiUm9sZXMiOlsiYWRtaW4iXSwiU3RhdGUiOnRydWUsIlVJRCI6IjBaR1ZRMURQVjVDQyIsIlVzZXJJZCI6MX0.EyJAEKjxDken57usyW2hJWFoyBN7yrMkJxQFYutOfso\",\"refreshToken\":\"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJFeHAiOjE3MjgzOTg3MjgsIlVzZXJJZCI6MX0.A-6BXrmEY8k_A8PC5RQ10HSTKDMbh9Y9gA8WqmUp7xI\",\"accessTokenExpireTime\":1728481528,\"refreshTokenExpireTime\":1728398728},\"success\":true,\"resultCode\":0,\"validationErrors\":null,\"error\":null}","Path":"/api/v2/auth/identity/users/login","Latency":0.2634119,"StatusCode":201}
{"level":"error","ts":"2024-10-08T17:16:34.315+0330","caller":"services/profile_service.go:56","msg":"ERROR: null value in column \"uid\" of relation \"profiles\" violates not-null constraint (SQLSTATE 23502)","AppName":"MyApp","LoggerName":"Zaplog","Category":"Postgres","SubCategory":"Insert","stacktrace":"user-service/services.(*ProfileService).Create\n\tD:/Golang Project/user-service/src/services/profile_service.go:56\nuser-service/api/handlers.(*ProfileHandler).Create\n\tD:/Golang Project/user-service/src/api/handlers/profile.go:50\ngithub.com/gin-gonic/gin.(*Context).Next\n\tC:/Users/10/go/pkg/mod/github.com/gin-gonic/gin@v1.10.0/context.go:185\nuser-service/api/middleware.Authentication.func1\n\tD:/Golang Project/user-service/src/api/middleware/auth.go:61\ngithub.com/gin-gonic/gin.(*Context).Next\n\tC:/Users/10/go/pkg/mod/github.com/gin-gonic/gin@v1.10.0/context.go:185\nuser-service/api/middleware.LimitByRequest.func1\n\tD:/Golang Project/user-service/src/api/middleware/limitter.go:19\ngithub.com/gin-gonic/gin.(*Context).Next\n\tC:/Users/10/go/pkg/mod/github.com/gin-gonic/gin@v1.10.0/context.go:185\ngithub.com/gin-gonic/gin.CustomRecoveryWithWriter.func1\n\tC:/Users/10/go/pkg/mod/github.com/gin-gonic/gin@v1.10.0/recovery.go:102\ngithub.com/gin-gonic/gin.(*Context).Next\n\tC:/Users/10/go/pkg/mod/github.com/gin-gonic/gin@v1.10.0/context.go:185\ngithub.com/gin-gonic/gin.LoggerWithConfig.func1\n\tC:/Users/10/go/pkg/mod/github.com/gin-gonic/gin@v1.10.0/logger.go:249\ngithub.com/gin-gonic/gin.(*Context).Next\n\tC:/Users/10/go/pkg/mod/github.com/gin-gonic/gin@v1.10.0/context.go:185\nuser-service/api/middleware.Prometheus.func1\n\tD:/Golang Project/user-service/src/api/middleware/prometheus.go:16\ngithub.com/gin-gonic/gin.(*Context).Next\n\tC:/Users/10/go/pkg/mod/github.com/gin-gonic/gin@v1.10.0/context.go:185\nuser-service/api/middleware.Cors.func1\n\tD:/Golang Project/user-service/src/api/middleware/cors.go:23\ngithub.com/gin-gonic/gin.(*Context).Next\n\tC:/Users/10/go/pkg/mod/github.com/gin-gonic/gin@v1.10.0/context.go:185\nuser-service/api/middleware.structuredLogger.func1\n\tD:/Golang Project/user-service/src/api/middleware/logger.go:49\ngithub.com/gin-gonic/gin.(*Context).Next\n\tC:/Users/10/go/pkg/mod/github.com/gin-gonic/gin@v1.10.0/context.go:185\ngithub.com/gin-gonic/gin.(*Engine).handleHTTPRequest\n\tC:/Users/10/go/pkg/mod/github.com/gin-gonic/gin@v1.10.0/gin.go:633\ngithub.com/gin-gonic/gin.(*Engine).ServeHTTP\n\tC:/Users/10/go/pkg/mod/github.com/gin-gonic/gin@v1.10.0/gin.go:589\nnet/http.serverHandler.ServeHTTP\n\tC:/Program Files/Go/src/net/http/server.go:3210\nnet/http.(*conn).serve\n\tC:/Program Files/Go/src/net/http/server.go:2092"}
{"level":"info","ts":"2024-10-08T17:16:34.315+0330","caller":"middleware/logger.go:76","msg":"","AppName":"MyApp","LoggerName":"Zaplog","Method":"POST","Latency":0.0650753,"StatusCode":500,"ResponseBody":"{\"result\":null,\"success\":false,\"resultCode\":50002,\"validationErrors\":null,\"error\":\"ERROR: null value in column \\\"uid\\\" of relation \\\"profiles\\\" violates not-null constraint (SQLSTATE 23502)\"}","SubCategory":"Api","Path":"/api/v2/auth/resource/profiles/","ErrorMessage":"","BodySize":191,"RequestBody":"{\n  \"address\": \"pirzoi\",\n  \"city\": \"tehran\",\n  \"country\": \"usa\",\n  \"dob\": \"1372/02/30\",\n  \"firstName\": \"kiarash\",\n  \"lastName\": \"shams\",\n  \"metadata\": \"string\",\n  \"nid\": \"0015796358\",\n  \"postalCode\": \"5863\"\n}","Category":"RequestResponse","ClientIp":"::1"}
